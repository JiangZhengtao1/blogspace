(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{623:function(t,v,s){"use strict";s.r(v);var _=s(4),a=Object(_.a)({},(function(){var t=this,v=t.$createElement,s=t._self._c||v;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[s("strong",[t._v("关于脚本")])]),t._v(" "),s("p",[t._v("1 脚本是一条或者多条命令组成；")]),t._v(" "),s("p",[t._v("2 命令由换行符或者分号隔开；")]),t._v(" "),s("p",[t._v("3 每条命令包含一个或多个单词，由空格或者制表符隔开，第一个单词为命令名，其它单词为参数。")]),t._v(" "),s("p",[t._v("4 使用#号进行注释")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/02/19/V4sntNR1ITgqj5G.png",alt:"image-20210219150538304"}})]),t._v(" "),s("h3",{attrs:{id:"语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[t._v("#")]),t._v(" 语法")]),t._v(" "),s("h4",{attrs:{id:"替换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#替换"}},[t._v("#")]),t._v(" "),s("strong",[t._v("替换")])]),t._v(" "),s("p",[t._v("三种变量替换：变量替换$，命令替换[ ] 和反斜杆替换 \\")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("substitutions")]),t._v(" "),s("th",[t._v("说明")]),t._v(" "),s("th",[t._v("命令表达式")]),t._v(" "),s("th",[t._v("结果分析")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("$")]),t._v(" "),s("td",[t._v("引用变量")]),t._v(" "),s("td",[t._v("set a 1; set b $a")]),t._v(" "),s("td",[t._v("将$a替换成1")])])])]),t._v(" "),s("p",[t._v("替换的变量名由$后面的所有字母、数字和下划线组成。故遇到非字母，数字和下划线就会终止。如下图所示：")]),t._v(" "),s("div",{staticClass:"language-tcl extra-class"},[s("pre",{pre:!0,attrs:{class:"language-tcl"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" set a 12\n12\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" set b $"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("a")]),t._v("\n12\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" set a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),t._v(" 11\n11\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 4 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" set b $"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("a")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),t._v("\n12"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 5 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" set b $"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("{a~}")]),t._v("\n11\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 6 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" \n")])])]),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/02/19/q4tG7yVzA2uUdhD.png",alt:"image-20210219150919370"}})]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("substitutions")]),t._v(" "),s("th",[t._v("说明")]),t._v(" "),s("th",[t._v("命令表达式")]),t._v(" "),s("th",[t._v("结果分析")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("[]")]),t._v(" "),s("td",[t._v("里面的内容作为命令执行且返回执行的结果")]),t._v(" "),s("td",[t._v("set a [expr 1+2]")]),t._v(" "),s("td",[t._v("将a设置为1+2的结果，即将a设置为3")])])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/02/19/YPfXCkiJ8yRBhbz.png",alt:"image-20210219151239228"}})]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("substitutions")]),t._v(" "),s("th",[t._v("说明")]),t._v(" "),s("th",[t._v("命令表达式")]),t._v(" "),s("th",[t._v("结果分析")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("\\")]),t._v(" "),s("td",[t._v("转义符")]),t._v(" "),s("td",[t._v("set a "),s("code",[t._v('"\\$"​')])]),t._v(" "),s("td",[t._v("将a设置为“$”")])])])]),t._v(" "),s("h4",{attrs:{id:"引用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引用"}},[t._v("#")]),t._v(" 引用")]),t._v(" "),s("p",[t._v("TCL语言提供了一些方法，阻止解析器对$和分号等特殊字符进行特殊处理，这些方法称为引用。常用的引用包括反斜杆"),s("code",[t._v("\\")]),t._v("、双引号"),s("code",[t._v('""')]),t._v("和大括号"),s("code",[t._v("{}")]),t._v("。")]),t._v(" "),s("p",[t._v("反斜杆阻止了"),s("code",[t._v("$")]),t._v("的替换，将"),s("code",[t._v("$")]),t._v("解析成字符"),s("code",[t._v("$")])]),t._v(" "),s("p",[t._v("下面注意的是：多行代码隔开，反斜杆不需要加空格。否则会出错。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/02/19/xFfGRtlM5aB3Sod.png",alt:"image-20210219152336522"}})]),t._v(" "),s("p",[t._v("强引用{}和弱引用“”")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",[t._v("弱引用“”")]),t._v(" "),s("th",[t._v("强引用{}")]),t._v(" "),s("th",[t._v("示例")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("引用强度")]),t._v(" "),s("td",[t._v("双引号去掉单词和命令分隔符的特殊解释，在双引号内部的substitution和[]仍旧有效")]),t._v(" "),s("td",[t._v("大括号去掉其中所有特殊字符的特殊解释。即大括号中的字符串将按照字面上的意思，作为字符付给变量。")]),t._v(" "),s("td",[s("img",{attrs:{src:"https://i.loli.net/2021/02/19/LrZ6i2bxFR1GuYS.png",alt:"image-20210219152940966"}})])]),t._v(" "),s("tr",[s("td",[t._v("可否嵌套")]),t._v(" "),s("td",[t._v("不可以")]),t._v(" "),s("td",[t._v("可以")]),t._v(" "),s("td")])])]),t._v(" "),s("p",[t._v("强引用可嵌套，所有可以用于控制流，foreach。")]),t._v(" "),s("h3",{attrs:{id:"三种匹配"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三种匹配"}},[t._v("#")]),t._v(" 三种匹配")]),t._v(" "),s("p",[t._v("tcl中存在三种匹配方式： exact，glob和正则表达式。")]),t._v(" "),s("p",[t._v("exact严格匹配，字符必须完全相同才行。")]),t._v(" "),s("p",[t._v("glob可采用通配符进行匹配。")]),t._v(" "),s("p",[t._v("如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/02/19/iABMJSmO71VGhK4.png",alt:"image-20210219153317614"}})]),t._v(" "),s("p",[t._v("正则表达式")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/02/19/wx6ZsLbz2OGINF5.png",alt:"image-20210219153527973"}})]),t._v(" "),s("h3",{attrs:{id:"变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#变量"}},[t._v("#")]),t._v(" 变量")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/02/19/KkYq5msdOLMV8Sa.png",alt:"image-20210219165404590"}})]),t._v(" "),s("ol",[s("li",[t._v("无需声明定义，直接使用"),s("code",[t._v("set")]),t._v("进行创建，"),s("code",[t._v("unset")]),t._v("移除。变量包含变量名和变量值。")]),t._v(" "),s("li",[t._v("使用"),s("code",[t._v("$")]),t._v("进行调用")]),t._v(" "),s("li",[t._v("区分大小写")]),t._v(" "),s("li",[t._v("变量名和变量值度可以由任意字符组成，建议使用字母开头，使用字母/下划线加数字进行命名。")]),t._v(" "),s("li",[t._v("常用的变量类型：string list array directionnary， Synopsys 还有专门的collection")]),t._v(" "),s("li",[t._v("变量存储类型分为字符串表达形式和内部表达形式（整数，实数，名称，列表以及tcl脚本）")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/02/19/LbuU3WrXepJTx7Q.png",alt:"image-20210219165412573"}})]),t._v(" "),s("h4",{attrs:{id:"变量之string"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#变量之string"}},[t._v("#")]),t._v(" 变量之string")]),t._v(" "),s("p",[t._v("如果你要把某个简单变量当字符串处理/看待，可以使用string命令提供的功能。")]),t._v(" "),s("p",[t._v("string命令的语法：string  option arg ？ arg...？")]),t._v(" "),s("p",[t._v("string命令具有强大的操作字符串的功能，其中的option选项多达20个。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/02/19/H4TCwDQGWlFxLIZ.png",alt:"image-20210219170103355"}})]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("string match ?-nocase? Pattern string")])])]),t._v(" "),s("p",[t._v("如果pattern匹配string，返回1，否则返回0；如果有-nocase参数，则不许分大小写")]),t._v(" "),s("p",[t._v("使用glob-style的匹配方式，通配符：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Character(s)")]),t._v(" "),s("th",[t._v("Meaning")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("?")]),t._v(" "),s("td",[t._v("匹配任意单个字符")])]),t._v(" "),s("tr",[s("td",[t._v("*")]),t._v(" "),s("td",[t._v("匹配无限长的任意字符，包括空字符串")])]),t._v(" "),s("tr",[s("td",[t._v("[char]")]),t._v(" "),s("td",[t._v("匹配字符集合chars中给出的任意字符，其中可以使用A-Z这种形式")])]),t._v(" "),s("tr",[s("td",[t._v("\\x")]),t._v(" "),s("td",[t._v("匹配单个字符x，可以用于指定会被特殊处理的字符，如*?[]\\")])])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/02/19/57ktaT2fdcj3Dqm.png",alt:"image-20210219170901935"}})]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("string equal ?-nocase? ?-length int? string1 string2")])])]),t._v(" "),s("p",[t._v("对两个字符串进行比较，如果它们严格（-exact）相同，返回1，否则返回0。-length可以指定匹配的长度")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/02/19/svGW4pq36lCmhke.png",alt:"image-20210219171301896"}})]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("string compare ?-nocase? ?-length int? string1 string2")])])]),t._v(" "),s("p",[t._v("对两个字符串进行比较，如果它们严格相同，返回0；如果第一个字符串在字典中先于第二个字符串，返回-1；否则返回1。-length可以指定匹配的长度。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/02/19/K957sFErmz32vSt.png",alt:"image-20210219171703691"}})]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("string length string")])])]),t._v(" "),s("p",[t._v("返回字符串的长度。空格，换行符也算一个字符。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/02/19/UWTdsQ6b4q8Z2HO.png",alt:"image-20210219171953105"}})]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("string range string first last")])])]),t._v(" "),s("p",[t._v("与string index相似，只不过它需要两个索引，返回first到last之间的字符。如果first小于0，则按0来处理；last也是类似。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/02/19/UCTXSD1c9qxa6sb.png",alt:"image-20210219172249102"}})]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("string index string charIndex")])])]),t._v(" "),s("p",[t._v("返回string中第charIndex个字符。charIndex可以是下面的值：")]),t._v(" "),s("p",[t._v("整数n：第n个字符（0-based）")]),t._v(" "),s("p",[t._v("end：最后一个字符")]),t._v(" "),s("p",[t._v("end-整数n：倒数第n个字符")]),t._v(" "),s("p",[t._v("如果charIndex小于0，或者大于字符串长度，返回空。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/02/19/1w3sFvmxh95HXyI.png",alt:"image-20210219172539534"}})])])}),[],!1,null,null,null);v.default=a.exports}}]);