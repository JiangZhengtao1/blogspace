---
title: leetcode667 优美的排列 II
date: 2021-03-18
categories:
 - LeetCode
tags:
 - 数组与矩阵
---

## 题目

[667. 优美的排列 II](https://leetcode-cn.com/problems/beautiful-arrangement-ii/)

难度中等83收藏分享切换为英文接收动态反馈

给定两个整数 `n` 和 `k`，你需要实现一个数组，这个数组包含从 `1` 到 `n` 的 `n` 个不同整数，同时满足以下条件：

① 如果这个数组是 [a1, a2, a3, ... , an] ，那么数组 [|a1 - a2|, |a2 - a3|, |a3 - a4|, ... , |an-1 - an|] 中应该有且仅有 k 个不同整数；.

② 如果存在多种答案，你只需实现并返回其中任意一种.

**示例 1:**

```
输入: n = 3, k = 1
输出: [1, 2, 3]
解释: [1, 2, 3] 包含 3 个范围在 1-3 的不同整数， 并且 [1, 1] 中有且仅有 1 个不同整数 : 1
```

 

**示例 2:**

```
输入: n = 3, k = 2
输出: [1, 3, 2]
解释: [1, 3, 2] 包含 3 个范围在 1-3 的不同整数， 并且 [2, 1] 中有且仅有 2 个不同整数: 1 和 2
```

 

**提示:**

1.  `n` 和 `k` 满足条件 1 <= k < n <= 104.

## 思路

当假设k，那么绝对差数组为：【1,1，...，k，k-1,k-2,....1】

那么原数组就是前半部分的1一直升序加一，后半部分为了使得绝对差值数组为【k，k-1，k-2，k-3，。。。1】

假设n = 7，那么数组则有1—7不同的数。1,2,3,4,5,6,7.

1) 初始原数组的顺序可以是【1,2,3,4,5,6,7】，**绝对值差数组**【1，1,1,1,1,1,】此时**k  = 1**。

2) 只需调换6,7的位置，将7往前移一个位置，就可以新建一个**新的绝对值差2**——【1，2，3，4，5，7，6】（5和7的绝对差为2，而7,6之间绝对值差仍为1），绝对差数组【1，1，1，1，2，1】此时**k =2**。

3) 继续将7的位置往前移，又能得到**新的绝对值差3**——【1，2，3，4，7，5，6】（4和7的绝对差为3）绝对差数组为【1，1，1， 3， 2 ，1】，此时**k = 3**

4) 继续将7的位置往前移，又能得到**新的绝对差4**——【1，2，3，7 ，4，5，6】（3和7的绝对差为4）绝对差数组为【1，1， 4， 3， 1,1】，此时**k = 3**。

​	为什么按照前面的做法，k怎么不应该等于4？要想得到k = 4，我们需要交换5,6的位置，得到【1， 2， 3， 7 ，4， 6， 5】，绝对差数组为【1，1， 4， 3，2, 1】，此时**k = 4**

也就是我们每次将7往前移，最大的绝对差每次都会加一，会得到一个新的绝对值差。

我们可以看到绝对差数组前一部分是1，后一部分是降序的子序列。知道k值，我们可以直接得出绝对差值数组，然后再推测原数组。

【1,1，...，k，k-1,k-2,....1】

也就是前n - k个数是1，后k个数降序。

```java
class Solution {
    public int[] constructArray(int n, int k) {
        int[] res = new int[n];
        res[0] = 1;
        int i = 1;
        for(;i < n - k; i++){
            res[i] = i + 1;
        }
        int a = 1;
        for(;i < n;i ++){
            res[i] = res[i - 1] +a*k;
            k--;
            a = -a;
        }
        return res;
    }
}

```

![image-20210318092311794](https://i.loli.net/2021/03/18/8N15CtKwAfqOPjn.png)