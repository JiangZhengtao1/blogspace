---
title: leetcode415字符串相加
date: 2020-11-26
categories:
 - LeetCode
tags:
 - 数学
 - 字符串加法减法
---

:::tip

给定两个字符串形式的非负整数 num1 和num2 ，计算它们的和。

:::

<!-- more -->

### 题目

[415. 字符串相加](https://leetcode-cn.com/problems/add-strings/)

给定两个字符串形式的非负整数 num1 和num2 ，计算它们的和。

提示：

    num1 和num2 的长度都小于 5100
    num1 和num2 都只包含数字 0-9
    num1 和num2 都不包含任何前导零
    你不能使用任何內建 BigInteger 库， 也不能直接将输入的字符串转换为整数形式

### 思路

跟二进制字符串加法类似。

不过我遇到一个Bug，再将字符添加到StringBuilder中，字符跟数字相加会把字符转成ascii码表，所以需要将相加结果进行强制转换(char)。

sb.append((char)(res + '0'));

sb.append((char)(res - 10 + '0'));

### 代码

```java
class Solution {
    public int append(int res,StringBuilder sb){
        int f  = 0;
        if(res <= 9){
            f = 0;
            sb.append((char)(res + '0'));
        }else {
            f = 1;
            sb.append((char)(res - 10 + '0'));
        }
        return f;
    }
    public String addStrings(String num1, String num2) {
        int f = 0;
        int res = 0;
        int i = num1.length() - 1;
        int j = num2.length() - 1;
        StringBuilder sb = new StringBuilder();
        for(;i>=0 && j>=0;i--,j--){
            int a = num1.charAt(i) - '0';
            int b = num2.charAt(j) - '0';
            res = a + b + f;
            f = append(res,sb);
        }
        if(i == -1){
            for(;j>=0;j--){
                res = num2.charAt(j) - '0' + f;
                f = append(res, sb);
            }
        }else if(j == -1){
            for(;i>=0;i--){
                res = num1.charAt(i) - '0' + f;
                f = append(res, sb);
            }
        }
        if(f == 1){
            sb.append('1');
        }
        return sb.reverse().toString();
    }
}
```



![image-20201126092727987](https://i.loli.net/2020/11/26/45us8akNcvBhGPZ.png)